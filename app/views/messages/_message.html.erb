<div class="message mb-3 p-2 <%= message.role %>">

  <strong><%= message.role.capitalize %></strong>

  <% if message.attachment.attached? %>
    <div class="mt-2">

      <% if message.image? %>
        <%= image_tag message.attachment, style: "max-width: 250px; border-radius: 6px;" %>

      <% elsif message.audio? %>
        <%= audio_tag message.attachment_url, controls: true %>

      <% elsif message.pdf? %>
        <%= link_to "View PDF", message.attachment_url, target: "_blank" %>

      <% else %>
        <%= link_to message.attachment.filename, message.attachment_url, target: "_blank" %>
      <% end %>

    </div>
  <% end %>

  <% if message.content.present? %>
    <p class="mt-2"><%= simple_format(message.content) %></p>
  <% end %>

</div>
