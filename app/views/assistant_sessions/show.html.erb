<div class="container mt-4">
  <h1><%= @session.role %> Interview</h1>

  <p><strong>Question:</strong> <%= @session.current_question_number %> / 25</p>

  <p>
    ‚è≥ Time left:
    <span
      data-controller="timer"
      data-timer-remaining-value="<%= @time_left %>">
    </span>
  </p>

  <p class="text-muted">
    Tip: Type <code>end</code> to finish the interview and see your report.
  </p>

  <hr>

  <div id="messages"
       data-controller="autoscroll"
       style="min-height: 300px; max-height: 400px; overflow-y: auto;">
    <%= render @messages %>
  </div>

  <% unless @session.completed? %>
    <%= render "messages/form", session: @session, message: Message.new %>
  <% else %>
    <p class="mt-3">
      Interview completed.
      <%= link_to "View Final Report",
                  final_report_assistant_session_path(@session),
                  class: "btn btn-outline-primary" %>
    </p>
  <% end %>
</div>
