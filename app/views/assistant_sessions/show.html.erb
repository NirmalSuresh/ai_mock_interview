<div class="container">
  <div class="messenger-box mx-auto shadow rounded">

    <!-- Header -->
    <div class="messenger-header d-flex justify-content-between align-items-center px-4 py-3">
      <h5 class="fw-bold mb-0 text-white">Interview — <%= @session.role %></h5>

      <div data-controller="timer"
           data-timer-seconds-value="<%= @time_left_seconds %>"
           class="timer-pill">
        <span id="timer">⏳ <%= Time.at(@time_left_seconds).utc.strftime("%M:%S") %></span>
      </div>
    </div>

    <!-- Messages (scrollable middle section) -->
    <div class="messenger-chat p-2"
         id="messages-wrapper"
         data-controller="autoscroll"
         data-autoscroll-target="messages">

      <div id="messages">
        <%= render "messages/messages", messages: @messages %>
      </div>

    </div>

    <!-- Input bar (fixed at bottom) -->
    <div class="messenger-input shadow-sm"
         id="message_form"
         data-controller="message-form">
      <%= render "messages/form", session: @session %>
    </div>

  </div>
</div>
