<div class="container mt-4">

  <!-- HEADER -->
  <div class="d-flex justify-content-between align-items-center mb-4 pb-2 border-bottom">
    <h3 class="fw-bold">
      <i class="bi bi-chat-dots text-primary me-1"></i>
      Interview — <%= @session.role %>
    </h3>

    <!-- TIMER -->
    <div data-controller="timer"
         data-timer-seconds-value="<%= @time_left_seconds %>"
         class="fw-bold fs-5 text-danger bg-light px-3 py-1 rounded shadow-sm">
      ⏳ Time Left:
      <span id="timer">
        <%= Time.at(@time_left_seconds).utc.strftime("%M:%S") %>
      </span>
    </div>
  </div>

  <!-- CHAT WINDOW -->
  <div id="messages"
       data-controller="autoscroll"
       data-autoscroll-target="messages"
       class="border rounded shadow-sm p-4 mb-4 bg-white"
       style="height: 480px; overflow-y: auto;">
    <%= render partial: "messages/messages", locals: { messages: @messages } %>
  </div>

  <!-- MESSAGE FORM -->
  <div id="message_form" class="mt-3">
    <%= render partial: "messages/form", locals: { session: @session } %>
  </div>

</div>
